<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Fancy Name Generator - StylesEdit Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@400;700&family=Jomhuria&family=Lateef:wght@400;600&family=Noto+Nastaliq+Urdu&family=Scheherazade+New&family=Reem+Kufi&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Dancing+Script&family=Great+Vibes&family=Satisfy&family=Kaushan+Script&family=Playball&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Almarai:wght@400;700&family=Jomhuria&family=Lateef:wght@400;600&family=Noto+Nastaliq+Urdu&family=Scheherazade+New&family=Reem+Kufi&display=swap');
        
        :root {
            --primary: #8a2be2;
            --secondary: #ff00ff;
            --dark: #1a1a2e;
            --light: #f1f1f1;
            --accent: #00ffff;
            --text-color: #ffffff;
            --bg-color: #1a1a2e;
            --card-bg: rgba(255, 255, 255, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Almarai', 'Lateef', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--dark), #16213e);
            color: var(--light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            background: rgba(26, 26, 46, 0.8);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(138, 43, 226, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid var(--primary);
            position: relative;
            overflow: hidden;
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent,
                rgba(138, 43, 226, 0.1),
                rgba(255, 0, 255, 0.1),
                transparent
            );
            transform: rotate(45deg);
            animation: shine 6s infinite linear;
            z-index: -1;
        }
        
        @keyframes shine {
            0% { transform: rotate(45deg) translate(-10%, -10%); }
            100% { transform: rotate(45deg) translate(10%, 10%); }
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-family: 'Jomhuria', cursive;
            font-size: 4rem;
            color: transparent;
            background: linear-gradient(to right, var(--primary), var(--secondary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            text-shadow: 0 0 10px rgba(138, 43, 226, 0.5);
            letter-spacing: 2px;
        }
        
        .panel {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .main-panel {
            flex: 3;
        }
        
        .side-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .panel-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 15px;
            border: 1px solid rgba(138, 43, 226, 0.2);
        }
        
        .panel-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-size: 1rem;
            color: var(--accent);
        }
        
        input[type="text"], textarea {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-size: 1rem;
            border: 1px solid rgba(138, 43, 226, 0.3);
            transition: all 0.3s ease;
        }
        
        input[type="text"]:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.5);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .option {
            display: flex;
            flex-direction: column;
        }
        
        select {
            width: 100%;
            padding: 10px;
            border-radius: 10px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-size: 0.9rem;
            border: 1px solid rgba(138, 43, 226, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.5);
        }
        
        .color-picker {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s;
        }
        
        .color-option:hover {
            transform: scale(1.1);
        }
        
        .color-option.active {
            border-color: white;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.7);
        }
        
        .generate-btn 
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 10px;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(138, 43, 226, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .generate-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, var(--secondary), var(--primary));
            transition: all 0.4s ease;
            z-index: -1;
        }
        
        .generate-btn:hover::before {
            left: 0;
        }
        
        .generate-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(138, 43, 226, 0.6);
        }
        
        .generate-btn:active {
            transform: translateY(1px);
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .action-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 8px;
            background: rgba(138, 43, 226, 0.3);
            color: white;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            font-size: 0.9rem;
        }
        
        .action-btn:hover {
            background: rgba(138, 43, 226, 0.5);
            transform: translateY(-2px);
        }
        
        .action-btn:active {
            transform: translateY(0);
        }
        
        .action-btn i {
            font-size: 1rem;
        }
        
        .symbol-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 10px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(138, 43, 226, 0.2);
            justify-content: center;
            max-height: 150px;
            overflow-y: auto;
        }
        
        .symbol-item {
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
            transition: all 0.2s;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .symbol-item:hover {
            background: rgba(138, 43, 226, 0.3);
            transform: scale(1.2);
        }
        
        .results-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            max-height: 500px;
            overflow-y: auto;
            padding: 10px;
            margin-top: 15px;
        }
        
        .result-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid rgba(138, 43, 226, 0.3);
            transition: all 0.3s ease;
            break-inside: avoid;
            position: relative;
        }
        
        .result-card:hover {
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.3);
            transform: translateY(-3px);
        }
        
        .result-title {
            font-size: 0.9rem;
            color: var(--accent);
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .result-content {
            font-size: 1.4rem;
            text-align: center;
            word-break: break-word;
            padding: 10px 0;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-color);
        }
        
        .card-actions {
            position: absolute;
            top: 5px;
            right: 5px;
            display: flex;
            gap: 5px;
            opacity: 0;
            transition: opacity 0.2s;
        }
        
        .result-card:hover .card-actions {
            opacity: 1;
        }
        
        .card-btn {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.5);
            border: none;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.8rem;
        }
        
        .card-btn:hover {
            background: var(--primary);
            transform: scale(1.1);
        }
        
        .history-item {
            padding: 8px 10px;
            border-radius: 8px;
            margin-bottom: 5px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
        }
        
        .history-item:hover {
            background: rgba(138, 43, 226, 0.2);
        }
        
        .history-item .time {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .history-container {
            max-height: 200px;
            overflow-y: auto;
            margin-top: 10px;
        }
        
        .favorite-btn {
            color: gold;
        }
        
        .tab-buttons {
            display: flex;
            border-bottom: 1px solid rgba(138, 43, 226, 0.3);
            margin-bottom: 15px;
        }
        
        .tab-btn {
            padding: 8px 15px;
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            position: relative;
            font-size: 0.9rem;
        }
        
        .tab-btn.active {
            color: var(--accent);
        }
        
        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--accent);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .footer {
            margin-top: 30px;
            text-align: center;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
        }
        
        /* Font classes */
        .font-pacifico { font-family: 'Pacifico', cursive; }
        .font-dancing { font-family: 'Dancing Script', cursive; }
        .font-greatvibes { font-family: 'Great Vibes', cursive; }
        .font-satisfy { font-family: 'Satisfy', cursive; }
        .font-kaushan { font-family: 'Kaushan Script', cursive; }
        .font-playball { font-family: 'Playball', cursive; }
        .font-jomhuria { font-family: 'Jomhuria', cursive; }
        .font-lateef { font-family: 'Lateef', serif; }
        
        /* Text effects */
        .effect-shadow { text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); }
        .effect-glow { text-shadow: 0 0 10px currentColor; }
        .effect-outline {
            text-shadow: 
                -1px -1px 0 #000,  
                1px -1px 0 #000,
                -1px 1px 0 #000,
                1px 1px 0 #000;
        }
        .effect-3d {
            text-shadow: 
                0 1px 0 #ccc,
                0 2px 0 #c9c9c9,
                0 3px 0 #bbb,
                0 4px 0 #b9b9b9,
                0 5px 0 #aaa,
                0 6px 1px rgba(0,0,0,.1),
                0 0 5px rgba(0,0,0,.1),
                0 1px 3px rgba(0,0,0,.3),
                0 3px 5px rgba(0,0,0,.2),
                0 5px 10px rgba(0,0,0,.25),
                0 10px 10px rgba(0,0,0,.2),
                0 20px 20px rgba(0,0,0,.15);
        }
        .effect-gradient {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        /* Animation classes */
        .animate-pulse {
            animation: pulse 2s infinite;
        }
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
        .animate-shake {
            animation: shake 0.5s ease-in-out infinite;
        }
        .animate-spin {
            animation: spin 2s linear infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-2px); }
            75% { transform: translateX(2px); }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 120px;
            background-color: rgba(0, 0, 0, 0.8);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.8rem;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .panel {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            .container {
                padding: 15px;
            }
            
            .options-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .results-container {
                grid-template-columns: 1fr;
            }
            
            .result-content {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>AI Fancy Name Generator</h1>
        
        <div class="panel">
            <div class="main-panel">
                <div class="panel-section">
                    <div class="input-group">
                        <label for="name-input">Enter Your Name</label>
                        <input type="text" id="name-input" placeholder="Type your name here..." autocomplete="off">
                    </div>
                    
                    <div class="options-grid">
                        <div class="option">
                            <label for="style-select">Style Intensity</label>
                            <select id="style-select">
                                <option value="light">Light Decoration</option>
                                <option value="medium" selected>Medium Decoration</option>
                                <option value="heavy">Heavy Decoration</option>
                                <option value="extreme">Extreme Decoration</option>
                            </select>
                        </div>
                        
                        <div class="option">
                            <label for="theme-select">Theme</label>
                            <select id="theme-select">
                                <option value="general" selected>General</option>
                                <option value="stars">Stars</option>
                                <option value="hearts">Hearts</option>
                                <option value="floral">Floral</option>
                                <option value="tech">Tech</option>
                                <option value="gothic">Gothic</option>
                                <option value="anime">Anime</option>
                                <option value="gaming">Gaming</option>
                                <option value="holiday">Holiday</option>
                                <option value="zodiac">Zodiac</option>
                                <option value="whatsapp">WhatsApp Emoji</option>
                                <option value="combination">Combination</option>
                            </select>
                        </div>
                        
                        <div class="option">
                            <label for="font-select">Font Style</label>
                            <select id="font-select">
                                <option value="default" selected>Default</option>
                                <option value="pacifico">Pacifico</option>
                                <option value="dancing">Dancing Script</option>
                                <option value="greatvibes">Great Vibes</option>
                                <option value="satisfy">Satisfy</option>
                                <option value="kaushan">Kaushan Script</option>
                                <option value="playball">Playball</option>
                                <option value="jomhuria">Jomhuria</option>
                                <option value="lateef">Lateef</option>
                            </select>
                        </div>
                        
                        <div class="option">
                            <label for="effect-select">Text Effect</label>
                            <select id="effect-select">
                                <option value="none" selected>None</option>
                                <option value="shadow">Shadow</option>
                                <option value="glow">Glow</option>
                                <option value="outline">Outline</option>
                                <option value="3d">3D</option>
                                <option value="gradient">Gradient</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>Text Color</label>
                        <div class="color-picker">
                            <div class="color-option active" style="background: #ffffff;" data-color="#ffffff" data-text="#ffffff"></div>
                            <div class="color-option" style="background: #ff0000;" data-color="#ff0000" data-text="#ff0000"></div>
                            <div class="color-option" style="background: #00ff00;" data-color="#00ff00" data-text="#00ff00"></div>
                            <div class="color-option" style="background: #0000ff;" data-color="#0000ff" data-text="#0000ff"></div>
                            <div class="color-option" style="background: #ffff00;" data-color="#ffff00" data-text="#ffff00"></div>
                            <div class="color-option" style="background: #ff00ff;" data-color="#ff00ff" data-text="#ff00ff"></div>
                            <div class="color-option" style="background: #00ffff;" data-color="#00ffff" data-text="#00ffff"></div>
                            <div class="color-option" style="background: #8a2be2;" data-color="#8a2be2" data-text="#8a2be2"></div>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>Background Color</label>
                        <div class="color-picker">
                            <div class="color-option active" style="background: #1a1a2e;" data-color="#1a1a2e" data-bg="#1a1a2e"></div>
                            <div class="color-option" style="background: #000000;" data-color="#000000" data-bg="#000000"></div>
                            <div class="color-option" style="background: #2a2a4a;" data-color="#2a2a4a" data-bg="#2a2a4a"></div>
                            <div class="color-option" style="background: #1e0033;" data-color="#1e0033" data-bg="#1e0033"></div>
                            <div class="color-option" style="background: #003366;" data-color="#003366" data-bg="#003366"></div>
                            <div class="color-option" style="background: #330033;" data-color="#330033" data-bg="#330033"></div>
                            <div class="color-option" style="background: #003300;" data-color="#003300" data-bg="#003300"></div>
                            <div class="color-option" style="background: #660000;" data-color="#660000" data-bg="#660000"></div>
                        </div>
                    </div>
                    
                    <button class="generate-btn" id="generate-btn">
                        <i class="fas fa-magic"></i> Generate Unique Name Styles
                    </button>
                    
                    <div class="action-buttons">
                        <button class="action-btn" id="undo-btn" title="Undo last action">
                            <i class="fas fa-undo"></i> Undo
                        </button>
                        <button class="action-btn" id="redo-btn" title="Redo last action">
                            <i class="fas fa-redo"></i> Redo
                        </button>
                        <button class="action-btn" id="clear-btn" title="Clear all results">
                            <i class="fas fa-trash"></i> Clear
                        </button>
                    </div>
                </div>
                
                <div class="panel-section">
                    <div class="tab-buttons">
                        <button class="tab-btn active" data-tab="symbols">Symbols</button>
                        <button class="tab-btn" data-tab="preview">Live Preview</button>
                        <button class="tab-btn" data-tab="ai">AI Suggestions</button>
                    </div>
                    
                    <div class="tab-content active" id="symbols-tab">
                        <div class="symbol-preview" id="symbol-preview">
                            <!-- Symbols will be loaded here -->
                        </div>
                        <div class="input-group">
                            <label for="custom-symbols">Add Custom Symbols</label>
                            <input type="text" id="custom-symbols" placeholder="Paste symbols here to add them">
                        </div>
                    </div>
                    
                    <div class="tab-content" id="preview-tab">
                        <div class="result-content" id="live-preview" style="min-height: 100px; padding: 20px; margin: 10px 0;">
                            Your styled name will appear here
                        </div>
                        <div class="action-buttons">
                            <button class="action-btn" id="save-preview-btn">
                                <i class="fas fa-save"></i> Save as Favorite
                            </button>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="ai-tab">
                        <div class="input-group">
                            <label for="ai-context">Additional Context (Optional)</label>
                            <textarea id="ai-context" rows="3" placeholder="E.g., 'I want a mystical style for my RPG character'"></textarea>
                        </div>
                        <button class="action-btn" id="ai-suggest-btn" style="width: 100%;">
                            <i class="fas fa-robot"></i> Get AI Suggestions
                        </button>
                        <div id="ai-suggestions" style="margin-top: 10px; font-size: 0.9rem; color: rgba(255, 255, 255, 0.8);">
                            AI suggestions will appear here
                        </div>
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3 class="panel-title">
                        <i class="fas fa-star"></i> Generated Results
                    </h3>
                    <div class="results-container" id="results-container">
                        <!-- Results will appear here -->
                    </div>
                    <div class="action-buttons">
                        <button class="action-btn" id="export-all-btn">
                            <i class="fas fa-download"></i> Export All as PNG
                        </button>
                        <button class="action-btn" id="share-all-btn">
                            <i class="fas fa-share-alt"></i> Share All
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="side-panel">
                <div class="panel-section">
                    <h3 class="panel-title">
                        <i class="fas fa-history"></i> Generation History
                    </h3>
                    <div class="history-container" id="history-container">
                        <!-- History items will appear here -->
                    </div>
                    <button class="action-btn" id="clear-history-btn" style="width: 100%; margin-top: 10px;">
                        <i class="fas fa-trash"></i> Clear History
                    </button>
                </div>
                
                <div class="panel-section">
                    <h3 class="panel-title">
                        <i class="fas fa-heart"></i> Favorites
                    </h3>
                    <div class="history-container" id="favorites-container">
                        <!-- Favorite items will appear here -->
                    </div>
                </div>
                
                <div class="panel-section">
                    <h3 class="panel-title">
                        <i class="fas fa-info-circle"></i> Symbol Info
                    </h3>
                    <div id="symbol-info">
                        <p style="font-size: 0.9rem; margin-bottom: 10px;">Click on any symbol to see details here</p>
                        <div id="symbol-details" style="font-size: 0.8rem; color: rgba(255, 255, 255, 0.7);">
                            <!-- Symbol details will appear here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>Coded with <span style="color: red;">❤️</span> by Shahzaib | © 2025 All Rights Reserved</p>
        </div>
    </div>

    <script>
        // WhatsApp cute emojis
        const whatsappEmojis = [
            '😊', '😍', '😂', '🥰', '😘', '😁', '😎', '🤩', '🥳', '😇',
            '🤗', '😋', '😜', '🤪', '😝', '🤑', '🤭', '🤫', '🤔', '🙄',
            '😏', '😒', '😌', '😔', '😴', '🤤', '😷', '🤒', '🤕', '🤢',
            '🤮', '🤧', '🥵', '🥶', '🥴', '😵', '🤯', '🤠', '🥳', '😎',
            '🤓', '🧐', '😕', '😟', '🙁', '☹️', '😮', '😯', '😲', '😳',
            '🥺', '😦', '😧', '😨', '😰', '😥', '😢', '😭', '😱', '😖',
            '😣', '😞', '😓', '😩', '😫', '🥱', '😤', '😡', '😠', '🤬',
            '😈', '👿', '💀', '☠️', '💩', '🤡', '👹', '👺', '👻', '👽',
            '👾', '🤖', '💋', '💌', '💘', '💝', '💖', '💗', '💓', '💞',
            '💕', '💟', '❣️', '💔', '❤️', '🧡', '💛', '💚', '💙', '💜',
            '🤎', '🖤', '🤍', '💯', '💢', '💥', '💫', '💦', '💨', '🕳️',
            '💣', '💬', '👁️‍🗨️', '🗨️', '🗯️', '💭', '💤'
        ];

        // Unicode symbol collections organized by theme
        const symbolThemes = {
            general: [
                '★', '☆', '✧', '✦', '✪', '✫', '✬', '✭', '✮', '✯', '✰', 
                '♔', '♕', '♖', '♗', '♘', '♙', '♚', '♛', '♜', '♝', '♞', '♟',
                '☀', '☁', '☂', '☃', '☄', '☉', '☊', '☋', '☌', '☍', '☎', '☏',
                '⏤', '⎯', '─', '━', '│', '┃', '┄', '┅', '┆', '┇', '┈', '┉', '┊', '┋',
                '͟', '͞', '͙', '⃝', '⃟', '⃠', '⃤', '⃥', '⃦', '⃧', '⃨', '⃩',
                '⌘', '⌚', '⌛', '⌜', '⌝', '⌞', '⌟', '⌠', '⌡',
                '♡', '♥', '❣', '❤', '❥', '❦', '❧', '☙', '❢',
                '✁', '✂', '✃', '✄', '✆', '✇', '✈', '✉', '✊', '✋', '✌', '✍', '✎', '✏',
                '✐', '✑', '✒', '✓', '✔', '✕', '✖', '✗', '✘', '✙', '✚', '✛', '✜', '✝', '✞', '✟',
                '✠', '✡', '✢', '✣', '✤', '✥', '✦', '✧', '✨', '✩', '✪', '✫', '✬', '✭', '✮', '✯',
                '✰', '✱', '✲', '✳', '✴', '✵', '✶', '✷', '✸', '✹', '✺', '✻', '✼', '✽', '✾', '✿',
                '❀', '❁', '❂', '❃', '❄', '❅', '❆', '❇', '❈', '❉', '❊', '❋'
            ],
            stars: [
                '★', '☆', '✧', '✦', '✪', '✫', '✬', '✭', '✮', '✯', '✰',
                '⋆', '⍟', '⍣', '✧', '✦', '✩', '✪', '✫', '✬', '✭', '✮', '✯', '✰',
                '✲', '✳', '✴', '✵', '✶', '✷', '✸', '✹', '✺', '✻', '✼', '✽', '✾',
                '⊛', '⊜', '⊝', '⍟', '⍣', '⍤', '⍥', '⍦', '⍧', '⍨', '⍩', '⍪', '⍫', '⍬', '⍭', '⍮', '⍯',
                '⋆', '⋇', '⋈', '⋉', '⋊', '⋋', '⋌', '⋍', '⋎', '⋏', '⋐', '⋑', '⋒', '⋓', '⋔', '⋕', '⋖', '⋗',
                '⋘', '⋙', '⋚', '⋛', '⋜', '⋝', '⋞', '⋟', '⋠', '⋡', '⋢', '⋣', '⋤', '⋥', '⋦', '⋧', '⋨', '⋩',
                '⋪', '⋫', '⋬', '⋭', '⋮', '⋯', '⋰', '⋱'
            ],
            hearts: [
                '♥', '❤', '❥', '❣', '♡', '❦', '❧', 'დ', 'ღ', '♡', '❤', '❥', '❦', '❧',
                '💕', '💖', '💗', '💘', '💙', '💚', '💛', '💜', '💝', '💞', '💟',
                '🖤', '🤍', '🤎', '❤️‍🔥', '❤️‍🩹', '💔', '❣️', '💓', '💔', '💕', '💖', '💗', '💘', '💙', '💚', '💛', '💜',
                '💝', '💞', '💟', '💠', '💡', '💢', '💣', '💤', '💥', '💦', '💧', '💨', '💩', '💪', '💫', '💬', '💭',
                '💮', '💯', '💰', '💱', '💲', '💳', '💴', '💵', '💶', '💷', '💸', '💹', '💺', '💻', '💼', '💽', '💾',
                '💿', '📀', '📁', '📂', '📃', '📄', '📅', '📆', '📇', '📈', '📉', '📊', '📋', '📌', '📍', '📎', '📏'
            ],
            floral: [
                '✿', '❀', '❁', '❃', '❄', '❅', '❆', '❇', '❈', '❉', '❊', '❋',
                '🌸', '💮', '🏵️', '🌹', '🥀', '🌺', '🌻', '🌼', '🌷', '🌱', '🌲', '🌳', '🌴', '🌵', '🌶️', '🌷',
                '☘️', '🍀', '🍁', '🍂', '🍃', '🍄', '🌰', '🌱', '🌲', '🌳', '🌴', '🌵', '🌶️', '🌷', '🌸', '💮', '🏵️',
                '🌹', '🥀', '🌺', '🌻', '🌼', '🌷', '🌱', '🌲', '🌳', '🌴', '🌵', '🌶️', '🌷', '🌸', '💮', '🏵️', '🌹',
                '🥀', '🌺', '🌻', '🌼', '🌷', '🌱', '🌲', '🌳', '🌴', '🌵', '🌶️', '🌷', '🌸', '💮', '🏵️', '🌹', '🥀',
                '🌺', '🌻', '🌼', '🌷', '🌱', '🌲', '🌳', '🌴', '🌵', '🌶️', '🌷', '🌸', '💮', '🏵️', '🌹', '🥀', '🌺'
            ],
            tech: [
                '⌘', '⌚', '⌛', '⌨', '⏏', '⏚', '⏛', '⏰', '⏱', '⏲', '⏳', '⏸', '⏹', '⏺',
                '⍇', '⍈', '⍉', '⍊', '⍋', '⍌', '⍍', '⍎', '⍏', '⍐', '⍑', '⍒', '⍓', '⍔', '⍕', '⍖', '⍗',
                '⍘', '⍙', '⍚', '⍛', '⍜', '⍝', '⍞', '⍟', '⍠', '⍡', '⍢', '⍣', '⍤', '⍥', '⍦', '⍧', '⍨', '⍩', '⍪',
                '⍫', '⍬', '⍭', '⍮', '⍯', '⍰', '⍱', '⍲', '⍳', '⍴', '⍵', '⍶', '⍷', '⍸', '⍹', '⍺', '⎔', '⎕', '⎖',
                '⎗', '⎘', '⎙', '⎚', '⎛', '⎜', '⎝', '⎞', '⎟', '⎠', '⎡', '⎢', '⎣', '⎤', '⎥', '⎦', '⎧', '⎨', '⎩',
                '⎪', '⎫', '⎬', '⎭', '⎮', '⎯', '⎰', '⎱', '⎲', '⎳', '⎴', '⎵', '⎶', '⎷', '⎸', '⎹', '⎺', '⎻', '⎼',
                '⎽', '⎾', '⎿', '⏀', '⏁', '⏂', '⏃', '⏄', '⏅', '⏆', '⏇', '⏈', '⏉', '⏊', '⏋', '⏌', '⏍', '⏎', '⏏'
            ],
            gothic: [
                '☠', '☢', '☣', '☤', '☥', '☦', '☧', '☨', '☩', '☪', '☫', '☬', '☭', '☮', '☯',
                '♰', '♱', '✙', '✚', '✛', '✜', '✝', '✞', '✟', '✠', '✡', '✢', '✣', '✤', '✥', '✦', '✧', '✨',
                '✩', '✪', '✫', '✬', '✭', '✮', '✯', '✰', '✱', '✲', '✳', '✴', '✵', '✶', '✷', '✸', '✹', '✺', '✻',
                '✼', '✽', '✾', '✿', '❀', '❁', '❂', '❃', '❄', '❅', '❆', '❇', '❈', '❉', '❊', '❋', '❌', '❍', '❎',
                '❏', '❐', '❑', '❒', '❓', '❔', '❕', '❖', '❗', '❘', '❙', '❚', '❛', '❜', '❝', '❞', '❟', '❠', '❡',
                '❢', '❣', '❤', '❥', '❦', '❧', '❨', '❩', '❪', '❫', '❬', '❭', '❮', '❯', '❰', '❱', '❲', '❳', '❴',
                '❵', '❶', '❷', '❸', '❹', '❺', '❻', '❼', '❽', '❾', '❿', '➀', '➁', '➂', '➃', '➄', '➅', '➆', '➇'
            ],
            anime: [
                'ヽ(・∀・)ﾉ', 'ヽ(´▽`)/', '＼(＾▽＾)／', '٩(◕‿◕｡)۶', '(ﾉ◕ヮ◕)ﾉ*:･ﾟ✧', 
                '☆*:.｡.o(≧▽≦)o.｡.:*☆', '(づ｡◕‿‿◕｡)づ', '(ﾉ´ヮ`)ﾉ*: ･ﾟ', '♪(´▽｀)', 
                '╰(*°▽°*)╯', '(◠‿◠✿)', '(｡♥‿♥｡)', '✿◕ ‿ ◕✿', '❀◕ ‿ ◕❀', 
                '(◕‿◕✿)', '(◕‿◕)♡', '♡(◕‿◕✿)', '(◕ᴗ◕✿)', '(✿ ♥‿♥)', 'ᕙ(⇀‸↼‶)ᕗ',
                '(ノಠ益ಠ)ノ', '(╯°□°）╯︵ ┻━┻', '┬─┬ノ( º _ ºノ)', '(ﾉ≧∇≦)ﾉ', 'ヽ(ﾟ∀ﾟ)ﾉ',
                'ヾ(●ω●)ノ', 'ヾ(＠⌒ー⌒＠)ノ', 'ヽ(★ω★)ノ', 'ヽ(；▽；)ノ', 'ヽ(；^；)ノ',
                'ヽ(´□｀。)ﾉ', 'ヽ(´ー｀)ノ', 'ヽ(´ー`)ﾉ', 'ヽ(´Д`;)ﾉ', 'ヽ(´Д`;)ﾉ'
            ],
            gaming: [
                '⚔️', '🛡️', '🎮', '👾', '🕹️', '🎲', '♟️', '🎯', '🎳', '🏆',
                '🥇', '🥈', '🥉', '🏅', '🎖️', '🏵️', '🎗️', '🎟️', '🎫', '🎪',
                '🃏', '🀄', '🎴', '🖥️', '💻', '⌨️', '🖱️', '🖲️', '💽', '💾',
                '💿', '📀', '🧮', '🎧', '🎮', '🎸', '🎹', '🎺', '🎻', '🥁',
                '🎷', '🎼', '🎵', '🎶', '🎤', '🎭', '🎨', '🎬', '🎰', '🎲',
                '🧩', '♠️', '♥️', '♦️', '♣️', '🃏', '🀄', '🎴', '🎯', '🎳',
                '🎮', '🎲', '🎰', '🧸', '🎪', '🕹️', '👾', '🖥️', '💾', '💿'
            ],
            holiday: [
                '🎄', '🎅', '🤶', '🧑‍🎄', '🎁', '🎀', '🎊', '🎉', '🎈', '🧧',
                '🎆', '🎇', '✨', '🎐', '🎑', '🎎', '🎏', '🎌', '🏮', '🧨',
                '✉️', '📨', '📩', '📧', '💌', '📮', '📪', '📫', '📬', '📭',
                '📦', '📯', '📥', '📤', '📜', '📃', '📑', '🧾', '📊', '📈',
                '📉', '📄', '📅', '📆', '🗓️', '📇', '📋', '📁', '📂', '🗂️',
                '🗄️', '📒', '📔', '📕', '📗', '📘', '📙', '📚', '📓', '📖',
                '🗞️', '📰', '🎫', '🎟️', '🎭', '🎨', '🎪', '🎤', '🎧', '🎼'
            ],
            zodiac: [
                '♈', '♉', '♊', '♋', '♌', '♍', '♎', '♏', '♐', '♑', '♒', '♓',
                '⛎', '🐀', '🐂', '🐅', '🐇', '🐉', '🐍', '🐎', '🐐', '🐒', '🐓', '🐕',
                '🐖', '🐁', '🐃', '🐄', '🐆', '🐈', '🐊', '🐋', '🐏', '🐑', '🐘', '🐕',
                '🐖', '🐪', '🐫', '🐬', '🐭', '🐮', '🐯', '🐰', '🐲', '🐍', '🐴', '🐑',
                '🐵', '🐔', '🐶', '🐷', '🐸', '🐹', '🐺', '🐻', '🐼', '🐽', '🐾', '🐭',
                '🐮', '🐯', '🐰', '🐱', '🐲', '🐳', '🐴', '🐵', '🐶', '🐷', '🐸', '🐹'
            ],
            whatsapp: whatsappEmojis,
            combination: []
        };

        // Combination themes
        symbolThemes.combination = [
            ...symbolThemes.stars.slice(0, 10),
            ...symbolThemes.hearts.slice(0, 10),
            ...symbolThemes.floral.slice(0, 10),
            ...symbolThemes.gaming.slice(0, 10)
        ];

        // State management
        const state = {
            history: [],
            favorites: JSON.parse(localStorage.getItem('favorites')) || [],
            undoStack: [],
            redoStack: [],
            currentTextColor: '#ffffff',
            currentBgColor: '#1a1a2e',
            currentFont: 'default',
            currentEffect: 'none',
            currentTheme: 'general',
            currentIntensity: 'medium'
        };

        // DOM elements
        const elements = {
            nameInput: document.getElementById('name-input'),
            styleSelect: document.getElementById('style-select'),
            themeSelect: document.getElementById('theme-select'),
            fontSelect: document.getElementById('font-select'),
            effectSelect: document.getElementById('effect-select'),
            generateBtn: document.getElementById('generate-btn'),
            resultsContainer: document.getElementById('results-container'),
            symbolPreview: document.getElementById('symbol-preview'),
            historyContainer: document.getElementById('history-container'),
            favoritesContainer: document.getElementById('favorites-container'),
            colorOptions: document.querySelectorAll('.color-option'),
            bgColorOptions: document.querySelectorAll('.color-option[data-bg]'),
            textColorOptions: document.querySelectorAll('.color-option[data-text]'),
            undoBtn: document.getElementById('undo-btn'),
            redoBtn: document.getElementById('redo-btn'),
            clearBtn: document.getElementById('clear-btn'),
            clearHistoryBtn: document.getElementById('clear-history-btn'),
            exportAllBtn: document.getElementById('export-all-btn'),
            shareAllBtn: document.getElementById('share-all-btn'),
            livePreview: document.getElementById('live-preview'),
            customSymbols: document.getElementById('custom-symbols'),
            savePreviewBtn: document.getElementById('save-preview-btn'),
            aiContext: document.getElementById('ai-context'),
            aiSuggestBtn: document.getElementById('ai-suggest-btn'),
            aiSuggestions: document.getElementById('ai-suggestions'),
            symbolDetails: document.getElementById('symbol-details'),
            tabButtons: document.querySelectorAll('.tab-btn'),
            tabContents: document.querySelectorAll('.tab-content')
        };

        // Initialize the app
        function init() {
            loadFavorites();
            updateLivePreview();
            displaySymbolPreview(state.currentTheme);
            setupEventListeners();
        }

        // Set up event listeners
        function setupEventListeners() {
            // Generate button
            elements.generateBtn.addEventListener('click', generateNames);
            
            // Theme selector
            elements.themeSelect.addEventListener('change', (e) => {
                state.currentTheme = e.target.value;
                displaySymbolPreview(state.currentTheme);
                updateLivePreview();
            });
            
            // Style intensity selector
            elements.styleSelect.addEventListener('change', (e) => {
                state.currentIntensity = e.target.value;
                updateLivePreview();
            });
            
            // Font selector
            elements.fontSelect.addEventListener('change', (e) => {
                state.currentFont = e.target.value;
                updateLivePreview();
            });
            
            // Effect selector
            elements.effectSelect.addEventListener('change', (e) => {
                state.currentEffect = e.target.value;
                updateLivePreview();
            });
            
            // Color pickers
            elements.textColorOptions.forEach(option => {
                option.addEventListener('click', () => {
                    document.querySelector('.color-option[data-text].active')?.classList.remove('active');
                    option.classList.add('active');
                    state.currentTextColor = option.dataset.text;
                    updateLivePreview();
                });
            });
            
            elements.bgColorOptions.forEach(option => {
                option.addEventListener('click', () => {
                    document.querySelector('.color-option[data-bg].active')?.classList.remove('active');
                    option.classList.add('active');
                    state.currentBgColor = option.dataset.bg;
                    updateLivePreview();
                });
            });
            
            // Name input live update
            elements.nameInput.addEventListener('input', updateLivePreview);
            
            // Action buttons
            elements.undoBtn.addEventListener('click', undoAction);
            elements.redoBtn.addEventListener('click', redoAction);
            elements.clearBtn.addEventListener('click', clearResults);
            elements.clearHistoryBtn.addEventListener('click', clearHistory);
            elements.exportAllBtn.addEventListener('click', exportAllAsPNG);
            elements.shareAllBtn.addEventListener('click', shareAllResults);
            elements.savePreviewBtn.addEventListener('click', saveCurrentPreviewAsFavorite);
            
            // AI suggestions
            elements.aiSuggestBtn.addEventListener('click', generateAiSuggestions);
            
            // Custom symbols
            elements.customSymbols.addEventListener('input', (e) => {
                if (e.target.value) {
                    addCustomSymbols(e.target.value);
                    e.target.value = '';
                }
            });
            
            // Tab switching
            elements.tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabName = button.dataset.tab;
                    switchTab(tabName);
                });
            });
        }

        // Switch between tabs
        function switchTab(tabName) {
            // Hide all tab contents and deactivate all buttons
            elements.tabContents.forEach(content => content.classList.remove('active'));
            elements.tabButtons.forEach(button => button.classList.remove('active'));
            
            // Activate the selected tab
            document.getElementById(`${tabName}-tab`).classList.add('active');
            document.querySelector(`.tab-btn[data-tab="${tabName}"]`).classList.add('active');
        }

        // Generate fancy name variations
        function generateNames() {
            const name = elements.nameInput.value.trim();
            if (!name) {
                alert('Please enter a name first!');
                return;
            }
            
            // Save current state to undo stack
            saveStateToUndoStack();
            
            const intensity = state.currentIntensity;
            const theme = state.currentTheme;
            
            const results = generateFancyNames(name, intensity, theme);
            displayResults(results);
            
            // Add to history
            addToHistory(name, intensity, theme);
            
            // Clear redo stack since we've made a new action
            state.redoStack = [];
            elements.redoBtn.disabled = true;
        }

        // Core name generation function
        function generateFancyNames(name, intensity, theme) {
            const results = [];
            const symbolCount = intensity === 'light' ? 2 : 
                              intensity === 'medium' ? 4 : 
                              intensity === 'heavy' ? 6 : 8;
            
            // Generate 10 different variations
            for (let i = 0; i < 10; i++) {
                const symbols = getRandomSymbols(theme, symbolCount);
                const leftSymbols = symbols.slice(0, Math.floor(symbols.length / 2)).join('');
                const rightSymbols = symbols.slice(Math.floor(symbols.length / 2)).join('');
                
                // Different decoration patterns
                let decoratedName;
                switch (i % 10) {
                    case 0:
                        decoratedName = `${leftSymbols} ❝${name}❞ ${rightSymbols}`;
                        break;
                    case 1:
                        decoratedName = `⏤${leftSymbols}≛ ${name} ≛${rightSymbols}⏤`;
                        break;
                    case 2:
                        decoratedName = `☆॰${leftSymbols}॰ ${name}॰॰${rightSymbols}॰☆`;
                        break;
                    case 3:
                        decoratedName = `✧･ﾟ: *${leftSymbols}*:･ﾟ✧ ${name} ✧･ﾟ: *${rightSymbols}*:･ﾟ✧`;
                        break;
                    case 4:
                        decoratedName = `▁ ▂ ▄ ▅ ▆ ▇ █ ${leftSymbols} ${name} ${rightSymbols} █ ▇ ▆ ▅ ▄ ▂ ▁`;
                        break;
                    case 5:
                        decoratedName = `【${leftSymbols}】${name}【${rightSymbols}】`;
                        break;
                    case 6:
                        decoratedName = `╰☆☆ ${leftSymbols} ${name} ${rightSymbols} ☆☆╮`;
                        break;
                    case 7:
                        decoratedName = `✿.｡.:* ${leftSymbols} ${name} ${rightSymbols} *.:｡.✿`;
                        break;
                    case 8:
                        decoratedName = `≪ °${leftSymbols}° ≫ ${name} ≪ °${rightSymbols}° ≫`;
                        break;
                    case 9:
                        decoratedName = `★·.·'¯'·.·★ ${leftSymbols} ${name} ${rightSymbols} ★·.·'¯'·.·★`;
                        break;
                }
                
                // Random animation
                const animations = ['none', 'pulse', 'float', 'shake'];
                const randomAnim = animations[Math.floor(Math.random() * animations.length)];
                
                results.push({
                    title: `Style ${i+1}`,
                    content: decoratedName,
                    font: state.currentFont,
                    effect: state.currentEffect,
                    textColor: state.currentTextColor,
                    bgColor: state.currentBgColor,
                    animation: randomAnim
                });
            }
            
            return results;
        }

        // Function to get random symbols from a theme
        function getRandomSymbols(theme, count) {
            if (theme === 'whatsapp') {
                // For WhatsApp emojis, we want to use multiple different emojis
                const shuffled = [...whatsappEmojis].sort(() => 0.5 - Math.random());
                return shuffled.slice(0, count);
            }
            
            const symbols = symbolThemes[theme] || symbolThemes.general;
            const shuffled = [...symbols].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        // Display results
        function displayResults(results) {
            elements.resultsContainer.innerHTML = '';
            
            results.forEach((result, index) => {
                const resultCard = document.createElement('div');
                resultCard.className = 'result-card';
                
                // Apply styles
                let style = `color: ${result.textColor};`;
                if (result.bgColor) {
                    style += `background-color: ${result.bgColor};`;
                }
                
                // Font class
                const fontClass = result.font === 'default' ? '' : `font-${result.font}`;
                
                // Effect class
                const effectClass = result.effect === 'none' ? '' : `effect-${result.effect}`;
                
                // Animation class
                const animClass = result.animation === 'none' ? '' : `animate-${result.animation}`;
                
                resultCard.innerHTML = `
                    <div class="card-actions">
                        <button class="card-btn copy-btn" data-text="${result.content.replace(/"/g, '&quot;')}" title="Copy to clipboard">
                            <i class="far fa-copy"></i>
                        </button>
                        <button class="card-btn favorite-btn" title="Add to favorites">
                            <i class="far fa-heart"></i>
                        </button>
                        <button class="card-btn export-btn" title="Export as PNG">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="card-btn share-btn" title="Share">
                            <i class="fas fa-share-alt"></i>
                        </button>
                    </div>
                    <div class="result-title">
                        <span>${result.title}</span>
                    </div>
                    <div class="result-content ${fontClass} ${effectClass} ${animClass}" style="${style}">
                        ${result.content}
                    </div>
                `;
                
                elements.resultsContainer.appendChild(resultCard);
                
                // Add event listeners to card buttons
                const card = resultCard;
                card.querySelector('.copy-btn').addEventListener('click', function() {
                    copyToClipboard(this.getAttribute('data-text'));
                });
                
                card.querySelector('.favorite-btn').addEventListener('click', function() {
                    addToFavorites(result);
                });
                
                card.querySelector('.export-btn').addEventListener('click', function() {
                    exportAsPNG(card.querySelector('.result-content'));
                });
                
                card.querySelector('.share-btn').addEventListener('click', function() {
                    shareResult(result.content);
                });
            });
        }

        // Copy text to clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text)
                .then(() => {
                    showTooltip('Copied!');
                })
                .catch(err => {
                    console.error('Failed to copy: ', err);
                    showTooltip('Failed to copy');
                });
        }

        // Show temporary tooltip
        function showTooltip(message) {
            const tooltip = document.createElement('div');
            tooltip.className = 'tooltip-message';
            tooltip.textContent = message;
            tooltip.style.position = 'fixed';
            tooltip.style.bottom = '20px';
            tooltip.style.left = '50%';
            tooltip.style.transform = 'translateX(-50%)';
            tooltip.style.backgroundColor = 'rgba(0,0,0,0.7)';
            tooltip.style.color = 'white';
            tooltip.style.padding = '8px 16px';
            tooltip.style.borderRadius = '4px';
            tooltip.style.zIndex = '1000';
            document.body.appendChild(tooltip);
            
            setTimeout(() => {
                tooltip.remove();
            }, 2000);
        }

        // Add to history
        function addToHistory(name, intensity, theme) {
            const historyItem = {
                name,
                intensity,
                theme,
                timestamp: new Date().toLocaleTimeString()
            };
            
            state.history.unshift(historyItem);
            if (state.history.length > 10) {
                state.history.pop();
            }
            
            renderHistory();
        }

        // Render history
        function renderHistory() {
            elements.historyContainer.innerHTML = '';
            
            state.history.forEach((item, index) => {
                const historyElement = document.createElement('div');
                historyElement.className = 'history-item';
                historyElement.innerHTML = `
                    <span>${item.name}</span>
                    <span class="time">${item.timestamp}</span>
                `;
                
                historyElement.addEventListener('click', () => {
                    elements.nameInput.value = item.name;
                    elements.styleSelect.value = item.intensity;
                    elements.themeSelect.value = item.theme;
                    state.currentIntensity = item.intensity;
                    state.currentTheme = item.theme;
                    updateLivePreview();
                });
                
                elements.historyContainer.appendChild(historyElement);
            });
        }

        // Clear history
        function clearHistory() {
            state.history = [];
            renderHistory();
        }

        // Add to favorites
        function addToFavorites(result) {
            // Check if already in favorites
            const exists = state.favorites.some(fav => fav.content === result.content);
            if (exists) {
                showTooltip('Already in favorites');
                return;
            }
            
            state.favorites.unshift(result);
            if (state.favorites.length > 20) {
                state.favorites.pop();
            }
            
            saveFavorites();
            renderFavorites();
            showTooltip('Added to favorites');
        }

        // Save favorites to localStorage
        function saveFavorites() {
            localStorage.setItem('favorites', JSON.stringify(state.favorites));
        }

        // Load favorites from localStorage
        function loadFavorites() {
            state.favorites = JSON.parse(localStorage.getItem('favorites')) || [];
            renderFavorites();
        }

        // Render favorites
        function renderFavorites() {
            elements.favoritesContainer.innerHTML = '';
            
            if (state.favorites.length === 0) {
                elements.favoritesContainer.innerHTML = '<p style="text-align: center; color: rgba(255,255,255,0.5);">No favorites yet</p>';
                return;
            }
            
            state.favorites.forEach((fav, index) => {
                const favElement = document.createElement('div');
                favElement.className = 'history-item';
                
                // Font class
                const fontClass = fav.font === 'default' ? '' : `font-${fav.font}`;
                
                // Effect class
                const effectClass = fav.effect === 'none' ? '' : `effect-${fav.effect}`;
                
                favElement.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <div class="${fontClass} ${effectClass}" style="color: ${fav.textColor}; font-size: 1.2rem;">
                            ${fav.content.substring(0, 10)}...
                        </div>
                    </div>
                    <div class="card-actions" style="position: static; opacity: 1;">
                        <button class="card-btn copy-btn" data-text="${fav.content.replace(/"/g, '&quot;')}" title="Copy to clipboard">
                            <i class="far fa-copy"></i>
                        </button>
                        <button class="card-btn remove-btn" title="Remove from favorites">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                favElement.querySelector('.copy-btn').addEventListener('click', function() {
                    copyToClipboard(this.getAttribute('data-text'));
                });
                
                favElement.querySelector('.remove-btn').addEventListener('click', () => {
                    removeFromFavorites(index);
                });
                
                elements.favoritesContainer.appendChild(favElement);
            });
        }

        // Remove from favorites
        function removeFromFavorites(index) {
            state.favorites.splice(index, 1);
            saveFavorites();
            renderFavorites();
            showTooltip('Removed from favorites');
        }

        // Display symbol preview
        function displaySymbolPreview(theme) {
            elements.symbolPreview.innerHTML = '';
            
            const symbols = getRandomSymbols(theme, 30);
            symbols.forEach(symbol => {
                const symbolItem = document.createElement('div');
                symbolItem.className = 'symbol-item';
                symbolItem.textContent = symbol;
                symbolItem.title = `Unicode: ${symbol.codePointAt(0).toString(16)}`;
                
                symbolItem.addEventListener('click', () => {
                    copyToClipboard(symbol);
                    showSymbolDetails(symbol);
                });
                
                elements.symbolPreview.appendChild(symbolItem);
            });
        }

        // Show symbol details
        function showSymbolDetails(symbol) {
            const codePoint = symbol.codePointAt(0);
            const hexCode = codePoint.toString(16).toUpperCase();
            const decCode = codePoint.toString();
            
            elements.symbolDetails.innerHTML = `
                <h4 style="margin-bottom: 5px;">Symbol Details</h4>
                <p><strong>Character:</strong> ${symbol}</p>
                <p><strong>Unicode:</strong> U+${hexCode.padStart(4, '0')}</p>
                <p><strong>Decimal:</strong> ${decCode}</p>
                <p><strong>UTF-8:</strong> ${getUTF8Bytes(symbol)}</p>
                <p><strong>Category:</strong> ${getSymbolCategory(symbol)}</p>
            `;
        }

        // Get UTF-8 bytes for a symbol
        function getUTF8Bytes(symbol) {
            const encoder = new TextEncoder();
            const bytes = encoder.encode(symbol);
            return Array.from(bytes).map(b => b.toString(16).toUpperCase()).join(' ');
        }

        // Get symbol category
        function getSymbolCategory(symbol) {
            // This is a simplified categorization
            if (symbolThemes.stars.includes(symbol)) return 'Star';
            if (symbolThemes.hearts.includes(symbol)) return 'Heart';
            if (symbolThemes.floral.includes(symbol)) return 'Floral';
            if (symbolThemes.tech.includes(symbol)) return 'Tech';
            if (symbolThemes.gothic.includes(symbol)) return 'Gothic';
            if (symbolThemes.anime.includes(symbol)) return 'Anime';
            if (symbolThemes.gaming.includes(symbol)) return 'Gaming';
            if (symbolThemes.holiday.includes(symbol)) return 'Holiday';
            if (symbolThemes.zodiac.includes(symbol)) return 'Zodiac';
            if (whatsappEmojis.includes(symbol)) return 'Emoji';
            return 'General';
        }

        // Add custom symbols
        function addCustomSymbols(symbols) {
            // Add to general theme
            for (const symbol of symbols) {
                if (!symbolThemes.general.includes(symbol)) {
                    symbolThemes.general.push(symbol);
                }
            }
            
            displaySymbolPreview(state.currentTheme);
            showTooltip(`Added ${symbols.length} custom symbols`);
        }

        // Update live preview
        function updateLivePreview() {
            const name = elements.nameInput.value.trim() || 'Your Name';
            
            // Generate a simple preview
            const symbols = getRandomSymbols(state.currentTheme, 2);
            const decoratedName = `✧･ﾟ: *${symbols[0]}*:･ﾟ✧ ${name} ✧･ﾟ: *${symbols[1]}*:･ﾟ✧`;
            
            // Apply current styles
            let style = `color: ${state.currentTextColor};`;
            if (state.currentBgColor) {
                style += `background-color: ${state.currentBgColor};`;
            }
            
            // Font class
            const fontClass = state.currentFont === 'default' ? '' : `font-${state.currentFont}`;
            
            // Effect class
            const effectClass = state.currentEffect === 'none' ? '' : `effect-${state.currentEffect}`;
            
            elements.livePreview.innerHTML = decoratedName;
            elements.livePreview.className = `result-content ${fontClass} ${effectClass}`;
            elements.livePreview.style = style;
        }

        // Save current preview as favorite
        function saveCurrentPreviewAsFavorite() {
            const name = elements.nameInput.value.trim();
            if (!name) {
                showTooltip('Please enter a name first');
                return;
            }
            
            const symbols = getRandomSymbols(state.currentTheme, 2);
            const decoratedName = `✧･ﾟ: *${symbols[0]}*:･ﾟ✧ ${name} ✧･ﾟ: *${symbols[1]}*:･ﾟ✧`;
            
            const favorite = {
                title: 'Custom Style',
                content: decoratedName,
                font: state.currentFont,
                effect: state.currentEffect,
                textColor: state.currentTextColor,
                bgColor: state.currentBgColor,
                animation: 'none'
            };
            
            addToFavorites(favorite);
        }

        // Generate AI suggestions
        function generateAiSuggestions() {
            const name = elements.nameInput.value.trim();
            if (!name) {
                showTooltip('Please enter a name first');
                return;
            }
            
            const context = elements.aiContext.value.trim();
            
            // Simulate AI processing
            elements.aiSuggestions.innerHTML = '<p><i class="fas fa-spinner fa-spin"></i> Generating AI suggestions...</p>';
            
            setTimeout(() => {
                // These would normally come from an AI API
                const suggestions = [
                    `Try combining star and heart symbols for a romantic look for ${name}`,
                    `For a mystical feel, use the gothic theme with heavy decoration`,
                    `The name ${name} would look great with a floral theme and medium intensity`,
                    `Consider using the gradient text effect with purple and pink colors`
                ];
                
                if (context) {
                    suggestions.unshift(`Based on your context "${context}", I recommend using the anime theme with light decoration`);
                }
                
                elements.aiSuggestions.innerHTML = '<h4>AI Suggestions</h4>' + 
                    suggestions.map(s => `<p>• ${s}</p>`).join('');
            }, 1500);
        }

        // Export as PNG
        function exportAsPNG(element) {
            html2canvas(element).then(canvas => {
                const link = document.createElement('a');
                link.download = 'fancy-name.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        }

        // Export all as PNG
        function exportAllAsPNG() {
            const cards = document.querySelectorAll('.result-card');
            if (cards.length === 0) {
                showTooltip('No results to export');
                return;
            }
            
            showTooltip('Preparing export...');
            
            // Create a container for all cards
            const container = document.createElement('div');
            container.style.backgroundColor = state.currentBgColor;
            container.style.padding = '20px';
            container.style.display = 'flex';
            container.style.flexDirection = 'column';
            container.style.gap = '20px';
            
            // Clone all cards
            cards.forEach(card => {
                const clone = card.cloneNode(true);
                clone.style.width = '100%';
                clone.style.margin = '0';
                container.appendChild(clone);
            });
            
            // Add to body temporarily
            document.body.appendChild(container);
            container.style.position = 'fixed';
            container.style.left = '-9999px';
            
            // Convert to canvas
            html2canvas(container).then(canvas => {
                const link = document.createElement('a');
                link.download = 'fancy-names-collection.png';
                link.href = canvas.toDataURL();
                link.click();
                
                // Clean up
                document.body.removeChild(container);
                showTooltip('Export complete!');
            });
        }

        // Share result
        function shareResult(text) {
            if (navigator.share) {
                navigator.share({
                    title: 'Check out my fancy name!',
                    text: text,
                    url: window.location.href
                }).catch(err => {
                    console.error('Error sharing:', err);
                    showTooltip('Sharing failed');
                });
            } else {
                copyToClipboard(text);
                showTooltip('Copied to clipboard (share not supported)');
            }
        }

        // Share all results
        function shareAllResults() {
            const cards = document.querySelectorAll('.result-card');
            if (cards.length === 0) {
                showTooltip('No results to share');
                return;
            }
            
            let shareText = "Check out these fancy name styles I created:\n\n";
            
            cards.forEach((card, index) => {
                const title = card.querySelector('.result-title span').textContent;
                const content = card.querySelector('.result-content').textContent;
                shareText += `${title}:\n${content}\n\n`;
            });
            
            shareText += "Created with AI Fancy Name Generator";
            
            if (navigator.share) {
                navigator.share({
                    title: 'My Fancy Name Styles',
                    text: shareText,
                    url: window.location.href
                }).catch(err => {
                    console.error('Error sharing:', err);
                    copyToClipboard(shareText);
                    showTooltip('Copied to clipboard');
                });
            } else {
                copyToClipboard(shareText);
                showTooltip('Copied to clipboard (share not supported)');
            }
        }

        // Undo/redo functionality
        function saveStateToUndoStack() {
            state.undoStack.push({
                results: elements.resultsContainer.innerHTML,
                name: elements.nameInput.value,
                intensity: elements.styleSelect.value,
                theme: elements.themeSelect.value
            });
            
            // Limit undo stack size
            if (state.undoStack.length > 10) {
                state.undoStack.shift();
            }
            
            elements.undoBtn.disabled = false;
        }

        function undoAction() {
            if (state.undoStack.length === 0) return;
            
            const stateToRestore = state.undoStack.pop();
            state.redoStack.push({
                results: elements.resultsContainer.innerHTML,
                name: elements.nameInput.value,
                intensity: elements.styleSelect.value,
                theme: elements.themeSelect.value
            });
            
            elements.resultsContainer.innerHTML = stateToRestore.results;
            elements.nameInput.value = stateToRestore.name;
            elements.styleSelect.value = stateToRestore.intensity;
            elements.themeSelect.value = stateToRestore.theme;
            
            state.currentIntensity = stateToRestore.intensity;
            state.currentTheme = stateToRestore.theme;
            
            elements.redoBtn.disabled = false;
            
            if (state.undoStack.length === 0) {
                elements.undoBtn.disabled = true;
            }
        }

        function redoAction() {
            if (state.redoStack.length === 0) return;
            
            const stateToRestore = state.redoStack.pop();
            state.undoStack.push({
                results: elements.resultsContainer.innerHTML,
                name: elements.nameInput.value,
                intensity: elements.styleSelect.value,
                theme: elements.themeSelect.value
            });
            
            elements.resultsContainer.innerHTML = stateToRestore.results;
            elements.nameInput.value = stateToRestore.name;
            elements.styleSelect.value = stateToRestore.intensity;
            elements.themeSelect.value = stateToRestore.theme;
            
            state.currentIntensity = stateToRestore.intensity;
            state.currentTheme = stateToRestore.theme;
            
            elements.undoBtn.disabled = false;
            
            if (state.redoStack.length === 0) {
                elements.redoBtn.disabled = true;
            }
        }

        // Clear results
        function clearResults() {
            saveStateToUndoStack();
            elements.resultsContainer.innerHTML = '<p style="text-align: center; color: rgba(255,255,255,0.5);">Your generated styles will appear here</p>';
        }

        // Initialize the app
        init();
    </script>
</body>
</html>